<div class="sidebar-container">
  <div class="sidebar-header">
    <div class="logo">WZ</div>
    <h3>WasteZero</h3>
  </div>

  <ul class="nav-links">
    <li>
      <a routerLink="/dashboard" routerLinkActive="active" class="nav-item">
        <i class="icon-dashboard"></i> Dashboard
      </a>
    </li>

    <li *ngIf="role === 'User'">
      <a routerLink="/schedule-pickup" routerLinkActive="active" class="nav-item">
        <i class="icon-schedule"></i> Schedule Pickup
      </a>
    </li>

    <li *ngIf="role === 'Volunteer'">
      <a routerLink="/opportunities" routerLinkActive="active" class="nav-item">
        <i class="icon-opportunities"></i> Opportunities
      </a>
    </li>

    <li *ngIf="role === 'Admin'">
      <a routerLink="/admin" routerLinkActive="active" class="nav-item">
        <i class="icon-admin"></i> Admin Panel
      </a>
    </li>

    <li>
      <a routerLink="/messages" routerLinkActive="active" class="nav-item">
        <i class="icon-messages"></i> Messages
      </a>
    </li>
  </ul>

  <div class="sidebar-footer">
    
    <!-- Theme Toggle -->
    <a href="#" class="nav-item mb-3 d-flex justify-content-between align-items-center" (click)="toggleTheme($event)">
      <span>
        <i class="icon-theme me-2" style="font-style: normal;" *ngIf="currentTheme === 'light'">&#9728;</i> <!-- Sun emoji -->
        <i class="icon-theme me-2" style="font-style: normal;" *ngIf="currentTheme === 'dark'">&#127380;</i> <!-- Moon emoji approximation / styling can be changed -->
        <span *ngIf="currentTheme === 'light'">Light Mode</span>
        <span *ngIf="currentTheme === 'dark'">Dark Mode</span>
      </span>
      <div class="form-check form-switch m-0 p-0">
        <input class="form-check-input ms-0 mt-0 pe-none" type="checkbox" role="switch" [checked]="currentTheme === 'dark'" style="cursor: pointer;">
      </div>
    </a>

    <!-- User Profile block -->
    <div class="user-info mb-3 d-flex align-items-center gap-3 px-3" routerLink="/profile" style="cursor: pointer;">
      <img *ngIf="avatarUrl" [src]="avatarUrl" alt="Avatar" class="avatar-img shadow-sm object-fit-cover">
      <div *ngIf="!avatarUrl" class="avatar"></div>
      <div>
        <div class="fw-bold profile-link-text" style="font-size: 0.9rem;">My Profile</div>
        <div class="role-badge" [ngClass]="role.toLowerCase()">
          {{ role }}
        </div>
      </div>
    </div>
    <a routerLink="/login" class="nav-item logout">
      <i class="icon-logout"></i> Logout
    </a>
  </div>
</div>
